<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Sacrament Meeting Planner</title>
    <link href="/css/main.css" rel="stylesheet" />
</head>
<body>
    <main>
        <h1>Sacrament Meeting Planner</h1>
        <div class="nav">
            <ul>
                <li>
                    <a href="/details.html">Enter Details</a>
                </li>
                <li>
                    <a href="/speakers.html">Enter Speakers</a>
                </li>
            </ul>
        </div>
        <br />
            <div class="grid" id="card-display">
                <div class="card">
                    
                    <h3 class="head">Ward/Stake Name</h3>
                    <p class="subheader">Date</p>
                    
                </div>
            </div>
    </main>
</body>
<script>
    function loadIndexPage() {
        const url = "api/Program";
        fetch(url)
            .then(response => response.json())
            .then(data => displayProgramHistory(data))
            .catch(error => {
                // handle the error
            });
        


    }

    function displayProgramHistory(data) {
        console.log(data);
        let displayGrid = document.getElementById('card-display');
        let items = "";
        for (const program of data) {
            let html = `
                <div class="card">
                    
                    <h3 class="head">River Creek Ward</h3>
                    <p class="subheader">${program.date}</p>
                    
                </div>`;

            items += html;
        }
        displayGrid.innerHTML = items;
    }

    loadIndexPage();
    
</script>
</html>
